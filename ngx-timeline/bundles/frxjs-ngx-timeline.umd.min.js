!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports,require("@angular/core"),require("rxjs"),require("@angular/common"),require("@angular/common/locales/it"),require("@angular/common/locales/fr"),require("@angular/common/locales/de"),require("@angular/common/locales/es")):"function"==typeof define&&define.amd?define("@frxjs/ngx-timeline",["exports","@angular/core","rxjs","@angular/common","@angular/common/locales/it","@angular/common/locales/fr","@angular/common/locales/de","@angular/common/locales/es"],n):n(((e="undefined"!=typeof globalThis?globalThis:e||self).frxjs=e.frxjs||{},e.frxjs["ngx-timeline"]={}),e.ng.core,e.rxjs,e.ng.common,e.ng.common.locales.it,e.ng.common.locales.fr,e.ng.common.locales.de,e.ng.common.locales.es)}(this,(function(e,n,t,i,o,r,a,l){"use strict";function c(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var s=c(o),d=c(r),m=c(a),p=c(l);Object.create;function g(e,n){var t="function"==typeof Symbol&&e[Symbol.iterator];if(!t)return e;var i,o,r=t.call(e),a=[];try{for(;(void 0===n||n-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(e){o={error:e}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(o)throw o.error}}return a}Object.create;var v,f=["en","it","fr","de","es"],u={en:{code:"en-US",fullDate:"MM/dd/yyyy h:mm a",dayMonthYear:"dd MMMM yyyy",monthYear:"MMMM yyyy",year:"yyyy",hoursMinutes:"hh:mm a"},it:{code:"it-IT",fullDate:"dd/MM/yyyy H:mm",dayMonthYear:"dd MMMM yyyy",monthYear:"MMMM yyyy",year:"yyyy",hoursMinutes:"HH:mm"},fr:{code:"fr-FR",fullDate:"dd/MM/yyyy H:mm",dayMonthYear:"dd MMMM yyyy",monthYear:"MMMM yyyy",year:"yyyy",hoursMinutes:"HH:mm"},de:{code:"de",fullDate:"dd/MM/yyyy H:mm",dayMonthYear:"dd MMMM yyyy",monthYear:"MMMM yyyy",year:"yyyy",hoursMinutes:"HH:mm"},es:{code:"es",fullDate:"dd/MM/yyyy H:mm",dayMonthYear:"dd MMMM yyyy",monthYear:"MMMM yyyy",year:"yyyy",hoursMinutes:"HH:mm"}};e.NgxDateFormat=void 0,(v=e.NgxDateFormat||(e.NgxDateFormat={})).DAY_MONTH_YEAR="DAY_MONTH_YEAR",v.FULL_DATE="FULL_DATE",v.MONTH_YEAR="MONTH_YEAR",v.HOURS_MINUTES="HOURS_MINUTES",v.YEAR="YEAR";var y,h={MONTH_YEAR:"monthYear",YEAR:"year",HOURS_MINUTES:"hoursMinutes",FULL_DATE:"fullDate",DAY_MONTH_YEAR:"dayMonthYear"};e.NgxTimelineEventGroup=void 0,(y=e.NgxTimelineEventGroup||(e.NgxTimelineEventGroup={})).YEAR="YEAR",y.MONTH_YEAR="MONTH_YEAR",y.DAY_MONTH_YEAR="DAY_MONTH_YEAR";var x,T={YEAR:["getFullYear"],MONTH_YEAR:["getFullYear","getMonth"],DAY_MONTH_YEAR:["getFullYear","getMonth","getDate"]},I={YEAR:e.NgxDateFormat.YEAR,MONTH_YEAR:e.NgxDateFormat.MONTH_YEAR,DAY_MONTH_YEAR:e.NgxDateFormat.DAY_MONTH_YEAR};e.NgxTimelineEventChangeSideInGroup=void 0,(x=e.NgxTimelineEventChangeSideInGroup||(e.NgxTimelineEventChangeSideInGroup={})).ALL="ALL",x.ON_DIFFERENT_HMS="ON_DIFFERENT_HMS",x.ON_DIFFERENT_DAY="ON_DIFFERENT_DAY",x.ON_DIFFERENT_MONTH="ON_DIFFERENT_MONTH";var E,M={ON_DIFFERENT_MONTH:["getFullYear","getMonth"],ON_DIFFERENT_DAY:["getFullYear","getMonth","getDate"],ON_DIFFERENT_HMS:["getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds"]};e.NgxTimelineItemPosition=void 0,(E=e.NgxTimelineItemPosition||(e.NgxTimelineItemPosition={})).ON_LEFT="ON_LEFT",E.ON_RIGHT="ON_RIGHT";var b=function(){function n(){this.enableAnimation=!0,this.groupEvent=e.NgxTimelineEventGroup.MONTH_YEAR,this.changeSideInGroup=e.NgxTimelineEventChangeSideInGroup.ON_DIFFERENT_DAY,this.clickEmitter=new t.BehaviorSubject(null),this.groups={},this.periods=[],this.items=[],this.ngxTimelineItemPosition=e.NgxTimelineItemPosition,this.ngxDateFormat=e.NgxDateFormat,this.separator="/"}return n.prototype.ngOnInit=function(){this.groupEvents(this.events)},n.prototype.ngOnChanges=function(e){this.groupEvents(this.events)},n.prototype.getPeriodKeyDateFormat=function(){return I[this.groupEvent]},n.prototype.clear=function(){this.groups={},this.periods=[],this.items=[]},n.prototype.groupEvents=function(e){e&&(this.clear(),this.sortEvents(e),this.setGroups(e),this.setPeriods(),this.setItems())},n.prototype.sortEvents=function(e){e.sort((function(e,n){return e.timestamp.getTime()-n.timestamp.getTime()}))},n.prototype.setGroups=function(e){var n=this;e.forEach((function(e){e.timestamp=new Date(e.timestamp);var t=n.getPeriodKeyFromEvent(e);n.groups[t]||(n.groups[t]=[]),n.groups[t].push(e)}))},n.prototype.setItems=function(){var e=this;this.periods.forEach((function(n){e.items.push(n);var t=n.periodInfo;e.addPeriodEvents(t,!0)}))},n.prototype.addPeriodEvents=function(e,n){var t=this;this.groups[e.periodKey].forEach((function(i,o){var r=t.groups[e.periodKey][o-1];o>0&&t.compareEvents(r,i)&&(n=!n),t.pushEventOnItems(i,n)}))},n.prototype.pushEventOnItems=function(e,n){this.items.push({eventInfo:Object.assign({},e),position:n?this.ngxTimelineItemPosition.ON_LEFT:this.ngxTimelineItemPosition.ON_RIGHT})},n.prototype.compareEvents=function(n,t){return this.changeSideInGroup===e.NgxTimelineEventChangeSideInGroup.ALL||this.compareEventsField.apply(this,function(){for(var e=[],n=0;n<arguments.length;n++)e=e.concat(g(arguments[n]));return e}([n,t],M[this.changeSideInGroup]))},n.prototype.compareEventsField=function(e,n){for(var t=[],i=2;i<arguments.length;i++)t[i-2]=arguments[i];return t.reduce((function(t,i){return t||e.timestamp[i]()!==n.timestamp[i]()}),!1)},n.prototype.setPeriods=function(){var e=this;this.periods=Object.keys(this.groups).map((function(n){var t=n.split(e.separator);return e.getPeriodInfo(t,n)}))},n.prototype.getPeriodInfo=function(e,n){return{periodInfo:{year:Number(e[0]),month:Number(e[1]),day:Number(e[2]),periodKey:n,firstDate:this.groups[n][0].timestamp}}},n.prototype.getPeriodKeyFromEvent=function(e){return T[this.groupEvent].map((function(n){return e.timestamp[n]()})).join(this.separator)},n}();b.decorators=[{type:n.Component,args:[{selector:"ngx-timeline",template:'<div class="main-container">\r\n  <div class="items-container">\r\n    <div *ngFor="let item of items; let index = index;" class="row">\r\n      \x3c!-- DESKTOP --\x3e\r\n      <div class="col col-left desktop" [ngClass]="item.periodInfo ? \'col-period\' : \'col-event\'">\r\n        <div class="event-outer-container" *ngIf="item.eventInfo && item.position === ngxTimelineItemPosition.ON_LEFT">\r\n          <ng-container *ngTemplateOutlet="eventCustomTemplate || eventTemplate; context: {event: item, colSidePosition: ngxTimelineItemPosition.ON_LEFT}"></ng-container>\r\n        </div>\r\n        <div class="hour left" *ngIf="item.eventInfo && item.position === ngxTimelineItemPosition.ON_RIGHT">\r\n          <ng-container *ngTemplateOutlet="dateInstantCustomTemplate || dateInstantTemplate; context: {item: item.eventInfo}" ></ng-container>\r\n        </div>\r\n      </div>\r\n\r\n      <div class="col col-center desktop" [ngClass]="item.periodInfo ? \'col-period\' : \'col-event\'">\r\n        <div class="center-inner" *ngIf="item.periodInfo">\r\n          <ng-container *ngTemplateOutlet="periodCustomTemplate || periodTemplate; context: {period: item.periodInfo, index: index}"></ng-container>\r\n        </div>\r\n        <div class="center-inner no-period-key" *ngIf="!item.periodInfo">\r\n          <ng-container *ngTemplateOutlet="centerLinesIconTemplate; context: {index: index}"></ng-container>\r\n        </div>\r\n      </div>\r\n\r\n      <div class="col col-right desktop" [ngClass]="item.periodInfo ? \'col-period\' : \'col-event\'">\r\n        <div class="event-outer-container" *ngIf="item.eventInfo && item.position === ngxTimelineItemPosition.ON_RIGHT">\r\n          <ng-container *ngTemplateOutlet="eventCustomTemplate || eventTemplate; context: {event: item, colSidePosition: ngxTimelineItemPosition.ON_RIGHT}"></ng-container>\r\n        </div>\r\n        <div class="hour right" *ngIf="item.eventInfo && item.position === ngxTimelineItemPosition.ON_LEFT">\r\n          <ng-container *ngTemplateOutlet="dateInstantCustomTemplate || dateInstantTemplate; context: {item: item.eventInfo}" ></ng-container>\r\n        </div>\r\n      </div>\r\n\r\n      \x3c!-- MOBILE --\x3e\r\n      <div class="col col-left mobile" [ngClass]="item.periodInfo ? \'col-period\' : \'col-event\'">\r\n        <div class="hour left" *ngIf="item.eventInfo">\r\n          <div class="hour-inner-container">\r\n            <ng-container *ngTemplateOutlet="dateInstantCustomTemplate || dateInstantTemplate; context: {item: item.eventInfo}" ></ng-container>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class="col col-center mobile" [ngClass]="item.periodInfo ? \'col-period\' : \'col-event\'">\r\n        <div class="center-inner" *ngIf="item.periodInfo;">\r\n            <ng-container *ngTemplateOutlet="periodCustomTemplate || periodTemplate; context: {period: item.periodInfo, index: index}"></ng-container>\r\n        </div>\r\n        <div class="center-inner no-period-key" *ngIf="!item.periodInfo;">\r\n          <ng-container *ngTemplateOutlet="centerLinesIconTemplate;context: {index: index}"></ng-container>\r\n        </div>\r\n      </div>\r\n\r\n      <div class="col col-right mobile" [ngClass]="item.periodInfo ? \'col-period\' : \'col-event\'">\r\n        <div class="event-outer-container" *ngIf="item.eventInfo">\r\n          <ng-container *ngTemplateOutlet="eventCustomTemplate || eventTemplate; context: {event: item, colSidePosition: ngxTimelineItemPosition.ON_RIGHT}"></ng-container>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n\r\n<ng-template #centerLinesIconTemplate let-index=index>\r\n  <div class="line"></div>\r\n  <ng-container *ngTemplateOutlet="centerIconCustomTemplate || centerIconTemplate"></ng-container>\r\n  <div [ngClass]="{\'transparent last-line\': index === items.length - 1}" class="line"></div>\r\n</ng-template>\r\n\r\n<ng-template #centerIconTemplate>\r\n  <div class="center-icon-container">\r\n    <div class="icon"></div>\r\n  </div>\r\n</ng-template>\r\n\r\n<ng-template #dateInstantTemplate let-item=item>\r\n  <span>\r\n    {{item?.timestamp | ngxdate : ngxDateFormat.HOURS_MINUTES : langCode}}\r\n  </span>\r\n</ng-template>\r\n\r\n<ng-template #periodTemplate let-period=period let-index=index>\r\n  <div [ngClass]="{\'transparent first-line\': !index}" class="line"></div>\r\n  <div class="period-container">\r\n    <div class="period-inner-container">\r\n      <span>{{period?.firstDate | ngxdate : getPeriodKeyDateFormat() : langCode}}</span>\r\n    </div>\r\n  </div>\r\n  <div class="line"></div>\r\n</ng-template>\r\n\r\n<ng-template #eventTemplate let-event=event let-colSidePosition=colSidePosition>\r\n  <ngx-timeline-event\r\n    [event]="event"\r\n    [langCode]="langCode"\r\n    [enableAnimation]="enableAnimation"\r\n    [innerEventCustomTemplate]="innerEventCustomTemplate"\r\n    [colSidePosition]="colSidePosition"\r\n    (clickEmitter)="clickEmitter.next($event)">\r\n  </ngx-timeline-event>\r\n</ng-template>\r\n\r\n',styles:[".main-container{display:flex;justify-content:center;width:100%}.items-container{padding:1rem 0;min-width:max(20rem,100%)}.row{display:flex;flex-wrap:wrap}.row>[class*=col-]{display:flex;flex-direction:column;justify-content:center}.col-left{align-items:flex-end}.col-left,.col-right{padding:0;flex:49 49 0}.col-right{align-items:flex-start}.col-center{min-height:6rem;padding:0;flex:2 2 0}.center-inner{width:100%;display:flex;flex-direction:column;justify-content:center;align-items:center;height:100%}.center-inner .line{min-height:50%;max-height:50%;height:50%;background:#464646;width:.1rem}.center-inner .line.transparent{background:transparent}.period-container{background:orange;color:#fff;margin:0;padding:.2rem .5rem}.period-container .period-inner-container{width:-webkit-max-content;width:-moz-max-content;width:max-content;padding:.2rem .5rem;z-index:10}.center-icon-container{padding:.8rem 0;display:flex;justify-content:center;align-items:center;position:absolute;height:10px;width:10px;background:#fff}.center-icon-container .icon{height:1rem;width:1rem;border-radius:50%;background:orange;margin:0;position:absolute}.event-outer-container{margin:0 .5rem;width:100%}.hour{padding:.5rem;background:none;display:flex;justify-content:center;align-items:center}.hour.right{justify-content:flex-start}.hour.left{justify-content:flex-end}.hour .hour-inner-container{margin:0}.desktop{display:flex!important}.mobile{display:none!important}@media (max-width:900px){.desktop{display:none!important}.mobile{display:flex!important}.event-outer-container{margin:.5rem .3rem}.col-left{align-items:flex-start}.col-left .hour{font-size:12px;padding:0;margin-right:.3rem}.col-left.col-period{flex:18 18 0}.col-left.col-event{flex:18 18 0;padding:0;align-items:flex-end}.col-right{align-items:flex-start}.col-right.col-period{flex:77 77 0}.col-right.col-event{flex:77 77 0;padding:0}.col-center{min-height:6rem;justify-content:center;margin:0}.col-center.col-period{flex:5 5 0;min-height:3rem}.col-center.col-event{flex:5 5 0}.center-inner,.period-container{align-items:center}.period-container{min-height:20%;height:20%;max-height:20%;background:transparent;display:flex;justify-content:center;border-radius:6px}.period-container .period-inner-container{position:absolute;background:orange;color:#fff;width:-webkit-max-content;width:-moz-max-content;width:max-content;padding:.2rem .5rem;z-index:10}.center-icon-container{align-items:center;justify-content:center}.center-icon-container .icon{height:1rem;width:1rem;position:absolute}}"]}]}],b.ctorParameters=function(){return[]},b.propDecorators={events:[{type:n.Input}],langCode:[{type:n.Input}],enableAnimation:[{type:n.Input}],groupEvent:[{type:n.Input}],changeSideInGroup:[{type:n.Input}],periodCustomTemplate:[{type:n.Input}],eventCustomTemplate:[{type:n.Input}],centerIconCustomTemplate:[{type:n.Input}],dateInstantCustomTemplate:[{type:n.Input}],innerEventCustomTemplate:[{type:n.Input}],clickEmitter:[{type:n.Output}]};var N=function(){function n(){this.enableAnimation=!0,this.clickEmitter=new t.BehaviorSubject(null),this.ngxTimelineItemPosition=e.NgxTimelineItemPosition,this.monthAbbr="MMM",this.dayFormat="dd"}return n.prototype.getDateObj=function(){var e,n,t,o,r=null===(e=this.event.eventInfo)||void 0===e?void 0:e.timestamp;if(r){var a=new Date(r),l=this.getLangCode();t=new i.DatePipe(l).transform(a,this.monthAbbr),n=new i.DatePipe(l).transform(a,this.dayFormat),o=a.getFullYear()}return{day:n,month:t,year:o}},n.prototype.getLangCode=function(){return this.langCode&&f.includes(this.langCode)?this.langCode:f[0]},n}();N.decorators=[{type:n.Component,args:[{selector:"ngx-timeline-event",template:'<div class="event-wrapper-container" (click)="clickEmitter.next(event)">\n  <div *ngIf="colSidePosition===ngxTimelineItemPosition.ON_RIGHT" class="arrow left"></div>\n  <div class="event" [ngClass]="{\'enableAnimation\': enableAnimation}">\n    <ng-container *ngTemplateOutlet="innerEventCustomTemplate || innerEventContainer; context: {event: event}">\n    </ng-container>\n  </div>\n  <div *ngIf="colSidePosition===ngxTimelineItemPosition.ON_LEFT" class="arrow right"></div>\n</div>\n\n<ng-template #innerEventContainer let-event=event>\n  <div class="event-container" [ngClass]="{\'reverse\': colSidePosition === ngxTimelineItemPosition.ON_LEFT}">\n    <div class="event-info-container">\n      <div class="event-info-header">\n        <div class="title-container">{{event?.eventInfo?.title | titlecase}}</div>\n      </div>\n      <div class="event-info-body">\n        <p class="event-info-description">{{event?.eventInfo?.description}}</p>\n      </div>\n    </div>\n\n    <div class="event-divider-container">\n      <hr/>\n    </div>\n\n    <div class="event-date-container" *ngIf="getDateObj() as dateObj">\n      <div>\n        <p>{{dateObj?.month}}</p>\n      </div>\n      <div>\n        <p class="day">{{dateObj?.day}}</p>\n      </div>\n      <div>\n        <p>{{dateObj?.year}}</p>\n      </div>\n    </div>\n  </div>\n</ng-template>\n',styles:[".event-wrapper-container{display:flex;justify-content:center;align-items:center;cursor:pointer}.arrow{width:0;height:0;border-top:.5rem solid transparent;border-bottom:.5rem solid transparent;border-radius:6px;z-index:10}.arrow.right{filter:drop-shadow(2px 0 0 #244a6e22);border-left:.5rem solid #fff}.arrow.left{filter:drop-shadow(-1px 0 0 #244a6e22);border-right:.5rem solid #fff}.event{background:#fff;border-radius:.8rem;padding:1rem;width:100%;margin:1rem 0}.event.enableAnimation:hover{padding:2rem;transition:all .5s ease-in-out}.event.enableAnimation:not(:hover){padding:1rem;transition:all .5s ease-in-out}.event:not(.hour){background:#fff 0 0 no-repeat padding-box;box-shadow:0 3px 6px rgba(36,74,110,.3215686274509804)}.event.hour{padding:.5rem;background:none;display:flex;justify-content:center;align-items:center}.event.hour.right{justify-content:flex-start}.event.hour.left{justify-content:flex-end}.event .hour-inner-container{margin:0}.event-container{display:flex}.event-container.reverse{flex-direction:row-reverse}.event-container .event-info-container{display:flex;flex-direction:column;align-items:flex-start;padding:.1rem;flex:88 88 0}.event-container .event-info-container .event-info-header{display:flex;align-items:center;width:100%}.event-container .event-info-container .event-info-header .icon-container{margin-right:.3rem}.event-container .event-info-container .event-info-header .icon-container nb-icon{color:orange;width:1.5rem;height:1.5rem;margin-bottom:.1rem}.event-container .event-info-container .event-info-header .title-container{font-weight:700;font-size:15px}.event-container .event-info-container .event-info-body{padding:.5rem 0;display:flex;flex-direction:column;justify-content:flex-start;overflow-wrap:anywhere}.event-container .event-info-container .event-info-body .event-info-description{margin-bottom:.5rem;font-size:13px}.event-container .event-info-container .event-info-body .category-container,.event-container .event-info-container .event-info-body .expiration-container{display:flex;font-size:13px;justify-content:flex-start;align-items:center}.event-container .event-info-container .event-info-body .category-container p,.event-container .event-info-container .event-info-body .expiration-container p{font-size:13px;margin:0}.event-container .event-info-container .event-info-body .category-container .category-label,.event-container .event-info-container .event-info-body .category-container .expiration-label,.event-container .event-info-container .event-info-body .expiration-container .category-label,.event-container .event-info-container .event-info-body .expiration-container .expiration-label{margin-right:.5rem}.event-container .event-info-container .event-info-body .category-container .category-value,.event-container .event-info-container .event-info-body .category-container .expiration-value,.event-container .event-info-container .event-info-body .expiration-container .category-value,.event-container .event-info-container .event-info-body .expiration-container .expiration-value{font-weight:700}.event-container .event-info-container .event-info-footer{font-size:15px;cursor:pointer;padding-top:1rem}.event-container .event-info-container .event-info-footer .footer-inner-container{display:flex;justify-content:flex-start;align-items:flex-end}.event-container .event-info-container .event-info-footer .footer-inner-container nb-icon{color:#006cb4;width:1rem;height:1rem;margin-bottom:.1rem}.event-container .event-info-container .event-info-footer p{margin:0;color:#006cb4}.event-container .event-divider-container{display:flex;justify-content:center;align-items:center;padding:.1rem;flex:5 5 0}.event-container .event-divider-container hr{height:100%;width:1px;background:#e9e9e9}.event-container .event-date-container{display:flex;justify-content:center;align-items:center;flex-direction:column;padding:.1rem;flex:15 15 0}.event-container .event-date-container p{margin:0;text-align:center}.event-container .event-date-container p.day{font-size:32px;font-weight:700;padding:.5rem 0}"]}]}],N.ctorParameters=function(){return[]},N.propDecorators={event:[{type:n.Input}],colSidePosition:[{type:n.Input}],langCode:[{type:n.Input}],innerEventCustomTemplate:[{type:n.Input}],enableAnimation:[{type:n.Input}],clickEmitter:[{type:n.Output}]};var O=function(){function e(){}return e.prototype.transform=function(e,n,t){var o=null;if(e){var r=this.getDateConfig(t);o=new i.DatePipe(r.code).transform(new Date(e),this.dateFormat(n,r))}return o},e.prototype.dateFormat=function(e,n){return n[h[e]]},e.prototype.getDateConfig=function(e){var n=e||f[0];return u[n]||u[f[0]]},e}();O.decorators=[{type:n.Pipe,args:[{name:"ngxdate",pure:!1}]}],O.ctorParameters=function(){return[]},i.registerLocaleData(s.default),i.registerLocaleData(d.default),i.registerLocaleData(m.default),i.registerLocaleData(p.default);var _=function(){};_.decorators=[{type:n.NgModule,args:[{declarations:[b,N,O],imports:[i.CommonModule],exports:[b,O]}]}],e.NgxDatePipe=O,e.NgxTimelineComponent=b,e.NgxTimelineEventComponent=N,e.NgxTimelineModule=_,e.dateConfigMap=u,e.fieldConfigDate=h,e.fieldsToAddEventGroup=T,e.fieldsToCheckEventChangeSideInGroup=M,e.periodKeyDateFormat=I,e.supportedLanguageCodes=f,e.ɵa=b,e.ɵb=N,e.ɵc=O,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=frxjs-ngx-timeline.umd.min.js.map